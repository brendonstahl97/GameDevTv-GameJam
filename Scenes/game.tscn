[gd_scene load_steps=22 format=3 uid="uid://reurgfcm8s"]

[ext_resource type="Script" path="res://Scripts/gameController.gd" id="1_f5sun"]
[ext_resource type="MeshLibrary" uid="uid://basyfgb3vgpbm" path="res://meshLibrary.tres" id="2_rjfq8"]
[ext_resource type="Texture2D" uid="uid://c4s7yucygjxaq" path="res://Assets/Environment/uploads_files_4381654_LightBlueSky_texture.jpg" id="2_tanvu"]
[ext_resource type="Script" path="res://Scripts/CameraManager.gd" id="3_qg2mu"]
[ext_resource type="PackedScene" uid="uid://dgsxkbytb4is" path="res://Scenes/player.tscn" id="3_xipmc"]
[ext_resource type="PackedScene" uid="uid://cobhpwyn12msn" path="res://Scenes/matchUI.tscn" id="5_ljud2"]
[ext_resource type="Script" path="res://Scenes/Killbox.gd" id="7_dpmeq"]
[ext_resource type="PackedScene" uid="uid://dblahe6smtayo" path="res://Assets/Environment/RTS Pack/glTF/MountainLarge_Single.gltf" id="9_hs0i7"]
[ext_resource type="PackedScene" uid="uid://cbmbon6csuxu0" path="res://Assets/Environment/RTS Pack/glTF/Mountain_Group_1.gltf" id="10_1b7xd"]
[ext_resource type="PackedScene" uid="uid://dv7iagtewvsh0" path="res://Assets/Environment/RTS Pack/glTF/Mountain_Group_2.gltf" id="11_poqfw"]
[ext_resource type="PackedScene" uid="uid://cc208v5isrh86" path="res://Scenes/BroccoliClouds.tscn" id="12_8q13i"]
[ext_resource type="PackedScene" uid="uid://dum7qyuj55qq8" path="res://Assets/Environment/RTS Pack/glTF/Mountain_Single.gltf" id="12_pwx4k"]
[ext_resource type="PackedScene" uid="uid://bsm0lw2r3lkwk" path="res://Scenes/launch_pad.tscn" id="13_86gqi"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_jdxgo"]
panorama = ExtResource("2_tanvu")

[sub_resource type="Sky" id="Sky_v7pil"]
sky_material = SubResource("PanoramaSkyMaterial_jdxgo")

[sub_resource type="Environment" id="Environment_bkyc4"]
background_mode = 2
sky = SubResource("Sky_v7pil")
sky_custom_fov = 84.1
sky_rotation = Vector3(0, 3.14159, 0)
fog_light_color = Color(1, 1, 1, 1)
fog_light_energy = 0.0
fog_sun_scatter = 0.23
volumetric_fog_density = 0.005
volumetric_fog_emission = Color(1, 1, 1, 1)
volumetric_fog_emission_energy = 1.5
volumetric_fog_anisotropy = 0.05
volumetric_fog_length = 19.68
volumetric_fog_detail_spread = 6.0
volumetric_fog_ambient_inject = 4.4
volumetric_fog_sky_affect = 0.653
adjustment_enabled = true
adjustment_contrast = 1.1
adjustment_saturation = 1.15

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xnfg0"]
albedo_color = Color(0.72549, 0.941176, 0.592157, 1)
metallic_specular = 0.0
roughness = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_lu4bi"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xo4uk"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_r85bj"]
size = Vector3(73, 64, 57)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_j62al"]

[node name="Game" type="Node3D"]
script = ExtResource("1_f5sun")
spawnAreaTopLeftPoint = Vector3(-8, 1, -8)
spawnAreaBottomRightPoint = Vector3(8, 1, 8)
gameMode = "Time"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bkyc4")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.649448, 0.760406, 0, -0.760406, 0.649448, 3.82, 10.5, 20)
fov = 50.0
script = ExtResource("3_qg2mu")
xPlayerLimits = Vector2(-25, 35)
yPlayerLimits = Vector2(-10, 20)
zPlayerLimits = Vector2(-25, 25)
lerpSpeed = 0.8
ParryFocusFov = 40.0

[node name="ParryFocusTimer" type="Timer" parent="Camera3D"]
wait_time = 0.3

[node name="AudioListener3D" type="AudioListener3D" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 0.649448, 0.760406, 0, -0.760406, 0.649448, 2.82, 1.36, 1)
top_level = true
current = true

[node name="Players" type="Node" parent="."]

[node name="0" parent="Players" instance=ExtResource("3_xipmc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.27466, 2.16168, 7.58822)

[node name="Customers" type="Node" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(52, 0, 0, 0, 1, 0, 0, 0, 35.994, 4.1, 0.51, 2.014)
layers = 3
material_override = SubResource("StandardMaterial3D_xnfg0")
mesh = SubResource("BoxMesh_lu4bi")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_xo4uk")

[node name="MatchUi" parent="." instance=ExtResource("5_ljud2")]

[node name="Killbox" type="Area3D" parent="."]
script = ExtResource("7_dpmeq")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Killbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 22.5, -5)
shape = SubResource("BoxShape3D_r85bj")

[node name="Broccoli Clouds" parent="." instance=ExtResource("12_8q13i")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 289, -35, -286)

[node name="SpawnPoints" type="Node" parent="."]

[node name="0" type="Node3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 2, -7)

[node name="1" type="Node3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 2, 13)

[node name="2" type="Node3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 2, 13)

[node name="3" type="Node3D" parent="SpawnPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 2, -5)

[node name="Environment" type="Node" parent="."]

[node name="GridMap" type="GridMap" parent="Environment"]
mesh_library = ExtResource("2_rjfq8")
physics_material = SubResource("PhysicsMaterial_j62al")
cell_scale = 2.0
collision_layer = 3
collision_mask = 3
data = {
"cells": PackedInt32Array(65530, 65528, 200, 65531, 65529, 1048857, 65531, 65531, 1048841, 65532, 65528, 200, 65532, 65529, 1048857, 65533, 65528, 200, 65534, 65528, 282, 1, 65535, 205, 1, 0, 655558, 7, 65531, 1048841, 7, 5, 1048841, 131066, 65529, 1048873, 131068, 65529, 1048873, 131064, 65528, 1442074, 131070, 65528, 655642, 131067, 65529, 1048842, 131065, 65529, 1048842, 131069, 65529, 1048842, 65528, 65527, 200, 131064, 65527, 655657, 131070, 65527, 297, 65534, 65527, 200, 196602, 65529, 1048874, 196603, 65529, 1048902, 65531, 5, 1048841, 65528, 65528, 1048858, 196600, 65528, 229, 196601, 65528, 1048814, 196600, 65527, 238, 196606, 65528, 1048805, 196605, 65528, 1048814, 196606, 65527, 655598, 196604, 65528, 298, 196602, 65528, 655658, 262138, 65528, 1048811, 262140, 65528, 1048813, 262139, 65528, 1048802, 262141, 65527, 1048803, 262137, 65527, 227, 65529, 65529, 1048859, 65530, 65529, 1048857, 65533, 65529, 1048857, 65525, 65528, 1048770, 65525, 65529, 655553, 65525, 65530, 655553, 65525, 65531, 655553, 65525, 65532, 655553, 65525, 65533, 655553, 65525, 65534, 655553, 65525, 65535, 655553, 65525, 0, 655553, 65525, 1, 655553, 65525, 2, 655553, 65525, 3, 655553, 65525, 4, 655553, 65525, 5, 655553, 65525, 6, 655553, 65525, 7, 655553, 65525, 8, 655553, 65525, 9, 655554, 65526, 9, 1441985, 65527, 9, 1441985, 65528, 9, 1441985, 65529, 9, 1441985, 65530, 9, 1441985, 65531, 9, 1441985, 65532, 9, 1441985, 65533, 9, 1441985, 65534, 9, 1441985, 65535, 9, 1441985, 0, 9, 1441985, 1, 9, 1441985, 2, 9, 1441985, 3, 9, 1441985, 4, 9, 1441985, 5, 9, 1441985, 6, 9, 1441985, 7, 9, 1441985, 8, 9, 1441985, 9, 9, 1441985, 10, 9, 1441985, 11, 9, 1441985, 12, 9, 1441985, 13, 9, 1441985, 14, 9, 1441986, 14, 8, 193, 14, 7, 193, 14, 6, 193, 14, 5, 193, 14, 4, 193, 14, 3, 193, 14, 2, 193, 14, 1, 193, 14, 0, 193, 14, 65535, 193, 14, 65534, 193, 14, 65533, 193, 14, 65532, 193, 14, 65531, 193, 14, 65530, 193, 14, 65529, 193, 14, 65528, 194, 13, 65528, 1048769, 12, 65528, 1048769, 11, 65528, 1048769, 10, 65528, 1048769, 9, 65528, 1048769, 8, 65528, 1048769, 7, 65528, 1048769, 6, 65528, 1048769, 5, 65528, 1048769, 4, 65528, 1048769, 3, 65528, 1048769, 2, 65528, 1048769, 1, 65528, 1048769, 0, 65528, 1048769, 65526, 65528, 1048769, 65535, 65526, 200, 65531, 65528, 200, 65529, 65528, 200, 65529, 65527, 200, 65530, 65527, 200, 65530, 65526, 200, 65531, 65526, 200, 65532, 65526, 200, 65532, 65527, 200, 65533, 65527, 200, 65534, 65526, 200, 65533, 65526, 200, 65531, 65527, 200, 65529, 65526, 200, 65528, 65526, 200, 65527, 65526, 200, 0, 65527, 655553, 0, 65526, 655553, 65526, 65527, 193, 65526, 65526, 193, 65527, 65525, 1441985, 65528, 65525, 1441985, 65529, 65525, 1441985, 65530, 65525, 1441985, 65532, 65525, 1441985, 65535, 65525, 1441985, 65534, 65525, 1441985, 65533, 65525, 1441985, 65531, 65525, 1441985)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="GridMap2" type="GridMap" parent="Environment"]
mesh_library = ExtResource("2_rjfq8")
physics_material = SubResource("PhysicsMaterial_j62al")
cell_scale = 2.0
collision_layer = 3
collision_mask = 3
data = {
"cells": PackedInt32Array(65527, 65528, 200, 65527, 65529, 200, 65529, 65529, 200, 65530, 65529, 200, 65531, 65529, 200, 65531, 65531, 202, 65532, 65529, 200, 65534, 65528, 200, 65534, 65529, 200, 65534, 65534, 196, 65535, 65528, 200, 65535, 65529, 200, 4, 65534, 196, 7, 65531, 202, 7, 5, 202, 131066, 65529, 1048873, 131068, 65529, 1048873, 131064, 65528, 1442074, 131070, 65528, 655642, 131067, 65529, 1048842, 131065, 65529, 1048842, 131069, 65529, 1048842, 65528, 65527, 655626, 131064, 65527, 655657, 131070, 65527, 297, 65534, 65527, 266, 196604, 65529, 1048874, 196602, 65529, 1048874, 196603, 65529, 1048902, 65531, 5, 202, 65528, 65528, 200, 65528, 65529, 200, 65535, 65527, 200, 65527, 65527, 200, 1, 0, 655547, 65533, 65529, 200, 65534, 4, 1048772, 4, 4, 1048772)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(0.866025, -0.397494, 0.303313, -5.16708e-10, 0.606627, 0.794987, -0.5, -0.688479, 0.525354, 172.876, 39.607, 31.6159)
light_color = Color(0.846839, 0.981002, 0.976893, 1)
light_volumetric_fog_energy = 0.0
shadow_enabled = true
shadow_bias = 6.383
shadow_normal_bias = 4.436
shadow_transmittance_bias = 6.614
shadow_blur = 0.0
sky_mode = 1

[node name="MountainLarge_Single2" parent="Environment" instance=ExtResource("9_hs0i7")]
transform = Transform3D(-575.167, 0.46837, 76.7827, 0, 269.2, -3.36098, -117.019, -2.30211, -377.399, 15.537, -511.7, -12.642)

[node name="Mountain_Group_12" parent="Environment" instance=ExtResource("10_1b7xd")]
transform = Transform3D(860.855, 0, 0, 0, 860.855, 0, 0, 0, 860.855, 268.793, -1003.97, -832.657)

[node name="Mountain_Group_22" parent="Environment" instance=ExtResource("11_poqfw")]
transform = Transform3D(198.91, 0, 0, 0, 198.91, 0, 0, 0, 198.91, 142.977, -285.676, -495.417)

[node name="Mountain_Single2" parent="Environment" instance=ExtResource("12_pwx4k")]
transform = Transform3D(128.675, 0, 0, 0, 128.675, 0, 0, 0, 128.675, -153.709, -174.581, -163.108)

[node name="LaunchPads" type="Node" parent="Environment"]

[node name="LaunchPad" parent="Environment/LaunchPads" instance=ExtResource("13_86gqi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 1, 2)

[node name="LaunchPad2" parent="Environment/LaunchPads" instance=ExtResource("13_86gqi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 1, 2)

[connection signal="timeout" from="Camera3D/ParryFocusTimer" to="Camera3D" method="_on_parry_focus_timer_timeout"]
[connection signal="body_exited" from="Killbox" to="Killbox" method="_on_body_exited"]
